<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Visualización de la Información - 4&nbsp; Análisis de la tasa de fertilidad total mundial</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./05_Minimos_cuadrados.html" rel="next">
<link href="./03_precios_graficas_storytelling.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./04_Fertilidad_mundial.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Análisis de la tasa de fertilidad total mundial</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Visualización de la Información</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introducción</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_Anscombe.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">El cuarteto de Anscombe</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_precios_producto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Análisis de precios de un producto</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_precios_graficas_storytelling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Análisis de precios de un producto: graficas para presentación.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_Fertilidad_mundial.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Análisis de la tasa de fertilidad total mundial</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_Minimos_cuadrados.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Quizz 2. Mínimos Cuadrados</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#objetivo" id="toc-objetivo" class="nav-link active" data-scroll-target="#objetivo"><span class="header-section-number">4.1</span> Objetivo</a></li>
  <li><a href="#conjuntos-de-datos." id="toc-conjuntos-de-datos." class="nav-link" data-scroll-target="#conjuntos-de-datos."><span class="header-section-number">5</span> Conjuntos de datos.</a>
  <ul class="collapse">
  <li><a href="#visualización-exploratoria." id="toc-visualización-exploratoria." class="nav-link" data-scroll-target="#visualización-exploratoria."><span class="header-section-number">5.1</span> Visualización exploratoria.</a></li>
  <li><a href="#visualización-del-tfr." id="toc-visualización-del-tfr." class="nav-link" data-scroll-target="#visualización-del-tfr."><span class="header-section-number">5.2</span> Visualización del TFR.</a></li>
  <li><a href="#exploración-de-los-otros-datos." id="toc-exploración-de-los-otros-datos." class="nav-link" data-scroll-target="#exploración-de-los-otros-datos."><span class="header-section-number">5.3</span> Exploración de los otros datos.</a></li>
  <li><a href="#construcción-del-hdi" id="toc-construcción-del-hdi" class="nav-link" data-scroll-target="#construcción-del-hdi"><span class="header-section-number">5.4</span> Construcción del HDI</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Análisis de la tasa de fertilidad total mundial</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This notebook by Luis M. de la Cruz Salas is licensed under <a href="https://creativecommons.org/licenses/by-nc-nd/4.0?ref=chooser-v1">Attribution-NonCommercial-NoDerivatives 4.0 International</a></p>
<p>Para lograr una excelente visualización de datos se debe tener: <strong>mucha curiosidad</strong> e interés en <strong>muchos temas variados</strong> que pueden parecer poco relacionados entre ellos: matemáticas, demografía, epidemiología, economía, deportes, ventas por internet, historia, psicología y muchos etcéteras.</p>
<p>Durante el proceso de esta visualización la vida tenderá a convertirse en un <strong>caos intelectual</strong>, pero <strong>sistemático y emocionante</strong>.</p>
<p>La <strong>visualización de datos</strong> es muy importante, pues es posible que sea <strong>lo único que vean tus interlocutores</strong>: cliente, colega, jefe, tutor, jurado, lectores de un periódico, público en una conferencia, … y probablemente a ellos no les interese mucho los datos numéricos o los algoritmos usados en su análisis.</p>
<p>El público a quien deseas transmitir tus hallazgos olvidarán muy pronto los numéros; <font color="Blue">pero si introduces tus hallazgos mediante un relato que cuente la historia de los datos, es posible que ellos se lleven un buen sabor de boca y recuerden la información recibida por mucho más tiempo e incluso tomen acciones.</font></p>
<section id="objetivo" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="objetivo"><span class="header-section-number">4.1</span> Objetivo</h2>
<ul>
<li><p>Obtener información de http://data.un.org/ de las siguientes variables:</p>
<ul>
<li>Tasa de fertilidad total (TFR)</li>
<li>Ingreso per cápita (GDP)</li>
<li>Nivel de educación (EDU)</li>
<li>Esperanza de vida al nacer (LEB)</li>
</ul></li>
<li><p>Construir una visualización que permita comparar el cambio en el Total Fertility Rate (TFR) en función del tiempo para varias países.</p></li>
<li><p>Generar un data set para el índice de desarrollo humano (HDI) de acuerdo con: https://en.wikipedia.org/wiki/Human_Development_Index</p></li>
</ul>
<p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/">
<a property="dct:title" rel="cc:attributionURL" href="https://github.com/luiggix/HeCompA/blob/main/02_DataScience/Anscombe.ipynb">HeCompA - Anscombe</a> by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://www.macti.unam.mx">Luis M. de la Cruz</a> is licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">Attribution-ShareAlike 4.0 International<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a>
</p>
<p><strong>Trabajo realizado con el apoyo del Programa UNAM-DGAPA-PAPIME PE101922</strong></p>
<div id="f80c7756-9514-4bf0-982d-3341ff8908d5" class="cell" data-tags="[]" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> ceil</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Esta biblioteca solo funciona en la plataforma www.macti.unam.mx</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Si no estas en esa plataforma, solo comenta la línea que sigue.</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> macti.visual</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="conjuntos-de-datos." class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Conjuntos de datos.</h1>
<p>Los datos ya están en el directorio de esta notebook. Solo los leemos.</p>
<div id="29e94157-9dde-4043-9ff2-fbe381bff0a7" class="cell" data-tags="[]" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>TFR <span class="op">=</span> pd.read_csv(<span class="st">'UNdata_Export_20230621_205538168.zip'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># GPD per capita</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>GDP <span class="op">=</span> pd.read_csv(<span class="st">'UNdata_Export_20230624_011417717.zip'</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Life expectancy at birth </span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>LEB <span class="op">=</span> pd.read_csv(<span class="st">'UNdata_Export_20230624_013747471.zip'</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Gross enrolment ratio. Tertiary education</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>EDU <span class="op">=</span> pd.read_csv(<span class="st">'UNdata_Export_20230624_014454110.zip'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="80769312-57e8-4aab-9c8e-68b56987429d" class="cell" data-tags="[]" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>EDU.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Reference Area</th>
<th data-quarto-table-cell-role="th">Time Period</th>
<th data-quarto-table-cell-role="th">Sex</th>
<th data-quarto-table-cell-role="th">Age group</th>
<th data-quarto-table-cell-role="th">Units of measurement</th>
<th data-quarto-table-cell-role="th">Observation Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Afghanistan</td>
<td>2014</td>
<td>Female</td>
<td>Not applicable</td>
<td>Percent</td>
<td>3.67329</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Afghanistan</td>
<td>2014</td>
<td>Male</td>
<td>Not applicable</td>
<td>Percent</td>
<td>13.28657</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Afghanistan</td>
<td>2014</td>
<td>All genders</td>
<td>Not applicable</td>
<td>Percent</td>
<td>8.66280</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Afghanistan</td>
<td>2011</td>
<td>Female</td>
<td>Not applicable</td>
<td>Percent</td>
<td>1.89233</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Afghanistan</td>
<td>2011</td>
<td>All genders</td>
<td>Not applicable</td>
<td>Percent</td>
<td>3.75598</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="87b59048-765c-49ce-99bc-7ab729f339a4" class="cell" data-tags="[]" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(TFR.columns)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(GDP.columns)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(LEB.columns)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(EDU.columns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Index(['Country or Area', 'Year(s)', 'Variant', 'Value'], dtype='object')
Index(['Country or Area', 'Year', 'Item', 'Value'], dtype='object')
Index(['Country or Area', 'Year(s)', 'Variant', 'Value'], dtype='object')
Index(['Reference Area', 'Time Period', 'Sex', 'Age group',
       'Units of measurement', 'Observation Value'],
      dtype='object')</code></pre>
</div>
</div>
<p>Agrupamos los datos por países y regiones geográficas.</p>
<div id="02584d6e-137e-48da-8619-e11086795e8d" class="cell" data-tags="[]" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>TFR_group <span class="op">=</span> TFR.groupby(<span class="st">'Country or Area'</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>GDP_group <span class="op">=</span> GDP.groupby(<span class="st">'Country or Area'</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>LEB_group <span class="op">=</span> LEB.groupby(<span class="st">'Country or Area'</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>EDU_group <span class="op">=</span> EDU.groupby(<span class="st">'Reference Area'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Determinamos los países que se tienen en cada conjunto de datos</p>
<div id="7409dd4d-a6bf-4d8a-b784-cc5b5aa693b7" class="cell" data-tags="[]" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>TFR_countries <span class="op">=</span> TFR_group.groups.keys()</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>GDP_countries <span class="op">=</span> GDP_group.groups.keys()</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>LEB_countries <span class="op">=</span> LEB_group.groups.keys()</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>EDU_countries <span class="op">=</span> EDU_group.groups.keys()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="706e3eba-bc8e-4096-999a-7cea70e5b68b" class="cell" data-tags="[]" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(TFR_countries))</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(GDP_countries))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(LEB_countries))</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(EDU_countries))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>284
220
284
220</code></pre>
</div>
</div>
<div id="db3754ce-e4ff-4bfe-a65f-985e6eb8086b" class="cell" data-tags="[]" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(TFR_countries)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>dict_keys(['Afghanistan', 'Africa', 'Albania', 'Algeria', 'American Samoa', 'Andorra', 'Angola', 'Anguilla', 'Antigua and Barbuda', 'Argentina', 'Armenia', 'Aruba', 'Asia', 'Australia', 'Australia/New Zealand', 'Austria', 'Azerbaijan', 'Bahamas', 'Bahrain', 'Bangladesh', 'Barbados', 'Belarus', 'Belgium', 'Belize', 'Benin', 'Bermuda', 'Bhutan', 'Bolivia (Plurinational State of)', 'Bonaire, Sint Eustatius and Saba', 'Bosnia and Herzegovina', 'Botswana', 'Brazil', 'British Virgin Islands', 'Brunei Darussalam', 'Bulgaria', 'Burkina Faso', 'Burundi', 'Cabo Verde', 'Cambodia', 'Cameroon', 'Canada', 'Caribbean', 'Cayman Islands', 'Central African Republic', 'Central America', 'Central Asia', 'Central and Southern Asia', 'Chad', 'Chile', 'China', 'China, Hong Kong SAR', 'China, Macao SAR', 'Colombia', 'Comoros', 'Congo', 'Cook Islands', 'Costa Rica', 'Croatia', 'Cuba', 'CuraÃ§ao', 'Cyprus', 'Czechia', "CÃ´te d'Ivoire", "Dem. People's Republic of Korea", 'Democratic Republic of the Congo', 'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'Eastern Africa', 'Eastern Asia', 'Eastern Europe', 'Eastern and South-Eastern Asia', 'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Eswatini', 'Ethiopia', 'Europe', 'Europe and Northern America', 'Falkland Islands (Malvinas)', 'Faroe Islands', 'Fiji', 'Finland', 'France', 'French Guiana', 'French Polynesia', 'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Gibraltar', 'Greece', 'Greenland', 'Grenada', 'Guadeloupe', 'Guam', 'Guatemala', 'Guernsey', 'Guinea', 'Guinea-Bissau', 'Guyana', 'Haiti', 'High-income countries', 'Holy See', 'Honduras', 'Hungary', 'Iceland', 'India', 'Indonesia', 'Iran (Islamic Republic of)', 'Iraq', 'Ireland', 'Isle of Man', 'Israel', 'Italy', 'Jamaica', 'Japan', 'Jersey', 'Jordan', 'Kazakhstan', 'Kenya', 'Kiribati', 'Kosovo (under UNSC res. 1244)', 'Kuwait', 'Kyrgyzstan', 'Land-locked Developing Countries (LLDC)', "Lao People's Democratic Republic", 'Latin America and the Caribbean', 'Latvia', 'Least developed countries', 'Lebanon', 'Lesotho', 'Less developed regions', 'Less developed regions, excluding China', 'Less developed regions, excluding least developed countries', 'Liberia', 'Libya', 'Liechtenstein', 'Lithuania', 'Low-income countries', 'Lower-middle-income countries', 'Luxembourg', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Marshall Islands', 'Martinique', 'Mauritania', 'Mauritius', 'Mayotte', 'Melanesia', 'Mexico', 'Micronesia', 'Micronesia (Fed. States of)', 'Middle Africa', 'Middle-income countries', 'Monaco', 'Mongolia', 'Montenegro', 'Montserrat', 'More developed regions', 'Morocco', 'Mozambique', 'Myanmar', 'Namibia', 'Nauru', 'Nepal', 'Netherlands', 'New Caledonia', 'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Niue', 'No income group available', 'North Macedonia', 'Northern Africa', 'Northern Africa and Western Asia', 'Northern America', 'Northern Europe', 'Northern Mariana Islands', 'Norway', 'Oceania', 'Oceania (excluding Australia and New Zealand)', 'Oman', 'Other non-specified areas', 'Pakistan', 'Palau', 'Panama', 'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Poland', 'Polynesia', 'Portugal', 'Puerto Rico', 'Qatar', 'Republic of Korea', 'Republic of Moldova', 'Romania', 'Russian Federation', 'Rwanda', 'RÃ©union', 'Saint BarthÃ©lemy', 'Saint Helena', 'Saint Kitts and Nevis', 'Saint Lucia', 'Saint Martin (French part)', 'Saint Pierre and Miquelon', 'Saint Vincent and the Grenadines', 'Samoa', 'San Marino', 'Sao Tome and Principe', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone', 'Singapore', 'Sint Maarten (Dutch part)', 'Slovakia', 'Slovenia', 'Small Island Developing States (SIDS)', 'Solomon Islands', 'Somalia', 'South Africa', 'South America', 'South Sudan', 'South-Eastern Asia', 'Southern Africa', 'Southern Asia', 'Southern Europe', 'Spain', 'Sri Lanka', 'State of Palestine', 'Sub-Saharan Africa', 'Sudan', 'Suriname', 'Sweden', 'Switzerland', 'Syrian Arab Republic', 'Tajikistan', 'Thailand', 'Timor-Leste', 'Togo', 'Tokelau', 'Tonga', 'Trinidad and Tobago', 'Tunisia', 'Turkmenistan', 'Turks and Caicos Islands', 'Tuvalu', 'TÃ¼rkiye', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom', 'United Republic of Tanzania', 'United States Virgin Islands', 'United States of America', 'Upper-middle-income countries', 'Uruguay', 'Uzbekistan', 'Vanuatu', 'Venezuela (Bolivarian Republic of)', 'Viet Nam', 'Wallis and Futuna Islands', 'Western Africa', 'Western Asia', 'Western Europe', 'Western Sahara', 'World', 'Yemen', 'Zambia', 'Zimbabwe'])</code></pre>
</div>
</div>
<p>Determinamos los países que son comunes a todos los conjuntos de datos.</p>
<div id="d7c6497a-14c5-499b-94e9-3c7e724ef68f" class="cell" data-tags="[]" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>filtra_GDP <span class="op">=</span> <span class="kw">lambda</span> p: p <span class="kw">in</span> GDP_countries</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>filtra_LEB <span class="op">=</span> <span class="kw">lambda</span> p: p <span class="kw">in</span> LEB_countries</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>filtra_EDU <span class="op">=</span> <span class="kw">lambda</span> p: p <span class="kw">in</span> EDU_countries</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b63f153f-34af-43e0-8c61-cf1143866db3" class="cell" data-tags="[]" data-execution_count="10">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(<span class="bu">list</span>(<span class="bu">filter</span>(filtra_EDU, <span class="bu">list</span>(<span class="bu">filter</span>(filtra_GDP, <span class="bu">list</span>(<span class="bu">filter</span>(filtra_LEB, TFR_countries)))))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>181</code></pre>
</div>
</div>
<div id="16ae872e-9a25-4c2e-8ab9-6bcbf49739ca" class="cell" data-tags="[]" data-execution_count="11">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>countries <span class="op">=</span> <span class="bu">list</span>(<span class="bu">filter</span>(filtra_EDU, <span class="bu">list</span>(<span class="bu">filter</span>(filtra_GDP, <span class="bu">list</span>(<span class="bu">filter</span>(filtra_LEB, TFR_countries))))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="03efdf0d-e939-49e3-8fd1-e181c9b1e110" class="cell" data-tags="[]" data-execution_count="12">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(countries)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['Afghanistan', 'Albania', 'Algeria', 'Angola', 'Anguilla', 'Antigua and Barbuda', 'Argentina', 'Armenia', 'Aruba', 'Australia', 'Austria', 'Azerbaijan', 'Bahamas', 'Bahrain', 'Bangladesh', 'Barbados', 'Belarus', 'Belgium', 'Belize', 'Benin', 'Bermuda', 'Bhutan', 'Bosnia and Herzegovina', 'Botswana', 'Brazil', 'British Virgin Islands', 'Brunei Darussalam', 'Bulgaria', 'Burkina Faso', 'Burundi', 'Cambodia', 'Cameroon', 'Canada', 'Central African Republic', 'Chad', 'Chile', 'Colombia', 'Comoros', 'Congo', 'Cook Islands', 'Costa Rica', 'Croatia', 'Cuba', 'Cyprus', 'Democratic Republic of the Congo', 'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Ethiopia', 'Fiji', 'Finland', 'France', 'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Greece', 'Grenada', 'Guatemala', 'Guinea', 'Guinea-Bissau', 'Guyana', 'Haiti', 'Honduras', 'Hungary', 'Iceland', 'India', 'Indonesia', 'Iraq', 'Ireland', 'Israel', 'Italy', 'Jamaica', 'Japan', 'Jordan', 'Kazakhstan', 'Kenya', 'Kiribati', 'Kuwait', 'Kyrgyzstan', "Lao People's Democratic Republic", 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Liechtenstein', 'Lithuania', 'Luxembourg', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Marshall Islands', 'Mauritania', 'Mauritius', 'Mexico', 'Monaco', 'Mongolia', 'Montenegro', 'Montserrat', 'Morocco', 'Mozambique', 'Myanmar', 'Namibia', 'Nauru', 'Nepal', 'Netherlands', 'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Norway', 'Oman', 'Pakistan', 'Palau', 'Panama', 'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Poland', 'Portugal', 'Puerto Rico', 'Qatar', 'Republic of Korea', 'Romania', 'Russian Federation', 'Rwanda', 'Saint Kitts and Nevis', 'Saint Lucia', 'Saint Vincent and the Grenadines', 'Samoa', 'San Marino', 'Sao Tome and Principe', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone', 'Slovakia', 'Slovenia', 'Solomon Islands', 'Somalia', 'South Africa', 'Spain', 'Sri Lanka', 'Sudan', 'Suriname', 'Sweden', 'Switzerland', 'Syrian Arab Republic', 'Tajikistan', 'Thailand', 'Timor-Leste', 'Togo', 'Tonga', 'Trinidad and Tobago', 'Tunisia', 'Turkmenistan', 'Tuvalu', 'Uganda', 'Ukraine', 'United Arab Emirates', 'Uruguay', 'Uzbekistan', 'Vanuatu', 'Venezuela (Bolivarian Republic of)', 'Viet Nam', 'Yemen', 'Zambia', 'Zimbabwe']</code></pre>
</div>
</div>
<p>Determinamos los años para el caso del TFR.</p>
<div id="56b30c3b-0cee-4355-8a09-973fa3082522" class="cell" data-tags="[]" data-execution_count="13">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>years <span class="op">=</span> <span class="bu">list</span>(TFR_group.get_group(<span class="st">'Afghanistan'</span>)[<span class="st">'Year(s)'</span>])</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(years)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[2101, 2100, 2099, 2098, 2097, 2096, 2095, 2094, 2093, 2092, 2091, 2090, 2089, 2088, 2087, 2086, 2085, 2084, 2083, 2082, 2081, 2080, 2079, 2078, 2077, 2076, 2075, 2074, 2073, 2072, 2071, 2070, 2069, 2068, 2067, 2066, 2065, 2064, 2063, 2062, 2061, 2060, 2059, 2058, 2057, 2056, 2055, 2054, 2053, 2052, 2051, 2050, 2049, 2048, 2047, 2046, 2045, 2044, 2043, 2042, 2041, 2040, 2039, 2038, 2037, 2036, 2035, 2034, 2033, 2032, 2031, 2030, 2029, 2028, 2027, 2026, 2025, 2024, 2023, 2022, 2021, 2020, 2019, 2018, 2017, 2016, 2015, 2014, 2013, 2012, 2011, 2010, 2009, 2008, 2007, 2006, 2005, 2004, 2003, 2002, 2001, 2000, 1999, 1998, 1997, 1996, 1995, 1994, 1993, 1992, 1991, 1990, 1989, 1988, 1987, 1986, 1985, 1984, 1983, 1982, 1981, 1980, 1979, 1978, 1977, 1976, 1975, 1974, 1973, 1972, 1971, 1970, 1969, 1968, 1967, 1966, 1965, 1964, 1963, 1962, 1961, 1960, 1959, 1958, 1957, 1956, 1955, 1954, 1953, 1952, 1951, 1950]</code></pre>
</div>
</div>
<section id="visualización-exploratoria." class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="visualización-exploratoria."><span class="header-section-number">5.1</span> Visualización exploratoria.</h2>
<div id="49c388f1-d3b7-4916-a521-970bd078fe4c" class="cell" data-tags="[]" data-execution_count="14">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>ax1 <span class="op">=</span> plt.subplot(<span class="dv">221</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>TFR.plot(x<span class="op">=</span><span class="st">'Year(s)'</span>, y<span class="op">=</span><span class="st">'Value'</span>, kind<span class="op">=</span><span class="st">'scatter'</span>, marker<span class="op">=</span><span class="st">'.'</span>, fc<span class="op">=</span><span class="st">'C0'</span>, alpha<span class="op">=</span><span class="fl">0.5</span>, ax<span class="op">=</span>ax1)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>ax1.set_title(<span class="st">'TFR'</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> plt.subplot(<span class="dv">222</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>GDP.plot(x<span class="op">=</span><span class="st">'Year'</span>, y<span class="op">=</span><span class="st">'Value'</span>, kind<span class="op">=</span><span class="st">'scatter'</span>, marker<span class="op">=</span><span class="st">'.'</span>, fc<span class="op">=</span><span class="st">'C1'</span>, alpha<span class="op">=</span><span class="fl">0.5</span>, ax<span class="op">=</span>ax2)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>ax2.set_title(<span class="st">'GDP'</span>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>ax3 <span class="op">=</span> plt.subplot(<span class="dv">223</span>)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>LEB.plot(x<span class="op">=</span><span class="st">'Year(s)'</span>, y<span class="op">=</span><span class="st">'Value'</span>, kind<span class="op">=</span><span class="st">'scatter'</span>, marker<span class="op">=</span><span class="st">'.'</span>, fc<span class="op">=</span><span class="st">'C2'</span>, alpha<span class="op">=</span><span class="fl">0.5</span>, ax<span class="op">=</span>ax3)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>ax3.set_title(<span class="st">'LEB'</span>)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>ax4 <span class="op">=</span> plt.subplot(<span class="dv">224</span>)</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>EDU.plot(x<span class="op">=</span><span class="st">'Time Period'</span>, y<span class="op">=</span><span class="st">'Observation Value'</span>, kind<span class="op">=</span><span class="st">'scatter'</span>, marker<span class="op">=</span><span class="st">'.'</span>, fc<span class="op">=</span><span class="st">'C3'</span>, alpha<span class="op">=</span><span class="fl">0.5</span>, ax<span class="op">=</span>ax4)</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>ax4.set_title(<span class="st">'EDU'</span>)</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">'TFR_01.png'</span>, dpi<span class="op">=</span><span class="dv">300</span>)</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="04_Fertilidad_mundial_files/figure-html/cell-15-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="visualización-del-tfr." class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="visualización-del-tfr."><span class="header-section-number">5.2</span> Visualización del TFR.</h2>
<p>Las siguientes funciones son de utilidad para la visualización final.</p>
<div id="dce7cc8e-5719-424b-9f36-a94fa2de3f73" class="cell" data-tags="[]" data-execution_count="15">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> ceil</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> maxmin(data, time, value, country):</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Calcula el valor máximo y el mínimo de todos los países.</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="co">    ----------</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co">    data : DataFrame</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="co">        Dataframe con la información de los países.</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="co">    time: str</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co">        Nombre de la columna con la información de los años.</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="co">    value: str</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="co">        Nombre de la columna con la información de los datos.</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="co">    country: str</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a><span class="co">        Nombre de la columna con los nombres de los países.</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a><span class="co">    p_max, y_max, p_min, y_min, yticks</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span>    </span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Se obtiene el valor máximo del time</span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>    x_max <span class="op">=</span> data[time].<span class="bu">max</span>()</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>    x_min <span class="op">=</span> data[time].<span class="bu">min</span>()</span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Se obtiene el valor máximo del value</span></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>    y_max <span class="op">=</span> data[value].<span class="bu">max</span>() </span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Extrae el nombre del país con el valor máximo</span></span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>    p_max <span class="op">=</span> data[data[value] <span class="op">==</span> y_max].iloc[<span class="dv">0</span>][country]</span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Se obtiene el valor mínimo</span></span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>    y_min <span class="op">=</span> data[value].<span class="bu">min</span>() </span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Extrae el nombre del país con el valor mínimo</span></span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>    p_min <span class="op">=</span> data[data[value] <span class="op">==</span> y_min].iloc[<span class="dv">0</span>][country]</span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> p_max, y_max, p_min, y_min, x_min, x_max</span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> set_canvas(data, time, value, country, figsize, xstep<span class="op">=</span><span class="dv">10</span>, ystep <span class="op">=</span> <span class="dv">1</span>):</span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a><span class="co">    Genera un lienzo para crear las gráficas sobre él.</span></span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters</span></span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a><span class="co">    ----------</span></span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a><span class="co">    data : DataFrame</span></span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a><span class="co">        Dataframe con la información de los países.</span></span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a><span class="co">    time: str</span></span>
<span id="cb21-53"><a href="#cb21-53" aria-hidden="true" tabindex="-1"></a><span class="co">        Nombre de la columna con la información de los años.</span></span>
<span id="cb21-54"><a href="#cb21-54" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb21-55"><a href="#cb21-55" aria-hidden="true" tabindex="-1"></a><span class="co">    value: str</span></span>
<span id="cb21-56"><a href="#cb21-56" aria-hidden="true" tabindex="-1"></a><span class="co">        Nombre de la columna con la información de los datos.</span></span>
<span id="cb21-57"><a href="#cb21-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-58"><a href="#cb21-58" aria-hidden="true" tabindex="-1"></a><span class="co">    country: str</span></span>
<span id="cb21-59"><a href="#cb21-59" aria-hidden="true" tabindex="-1"></a><span class="co">        Nombre de la columna con los nombres de los países.</span></span>
<span id="cb21-60"><a href="#cb21-60" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb21-61"><a href="#cb21-61" aria-hidden="true" tabindex="-1"></a><span class="co">    figsize: tuple</span></span>
<span id="cb21-62"><a href="#cb21-62" aria-hidden="true" tabindex="-1"></a><span class="co">        Tamaño de la figura.</span></span>
<span id="cb21-63"><a href="#cb21-63" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb21-64"><a href="#cb21-64" aria-hidden="true" tabindex="-1"></a><span class="co">    xstep, ystep: int</span></span>
<span id="cb21-65"><a href="#cb21-65" aria-hidden="true" tabindex="-1"></a><span class="co">        Paso de los ticks en los ejes horizontal y vertical, respectivamente.</span></span>
<span id="cb21-66"><a href="#cb21-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-67"><a href="#cb21-67" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb21-68"><a href="#cb21-68" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb21-69"><a href="#cb21-69" aria-hidden="true" tabindex="-1"></a><span class="co">    fig, ax: </span></span>
<span id="cb21-70"><a href="#cb21-70" aria-hidden="true" tabindex="-1"></a><span class="co">        Figura y ejes donde se hará la gráfica.</span></span>
<span id="cb21-71"><a href="#cb21-71" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span>    </span>
<span id="cb21-72"><a href="#cb21-72" aria-hidden="true" tabindex="-1"></a>    p_max, y_max, p_min, y_min, x_min, x_max <span class="op">=</span> maxmin(data, time, value, country)</span>
<span id="cb21-73"><a href="#cb21-73" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Máximo = </span><span class="sc">{}</span><span class="st">, </span><span class="ch">\t</span><span class="st"> País : </span><span class="sc">{}</span><span class="st">'</span>.<span class="bu">format</span>(y_max, p_max))</span>
<span id="cb21-74"><a href="#cb21-74" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Mínimo = </span><span class="sc">{}</span><span class="st">, </span><span class="ch">\t</span><span class="st"> País : </span><span class="sc">{}</span><span class="st">'</span>.<span class="bu">format</span>(y_min, p_min))</span>
<span id="cb21-75"><a href="#cb21-75" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb21-76"><a href="#cb21-76" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Se generan los yticks</span></span>
<span id="cb21-77"><a href="#cb21-77" aria-hidden="true" tabindex="-1"></a>    yticks <span class="op">=</span> [i <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, ceil(y_max)<span class="op">+</span><span class="dv">1</span>, ystep)]</span>
<span id="cb21-78"><a href="#cb21-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-79"><a href="#cb21-79" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>figsize)</span>
<span id="cb21-80"><a href="#cb21-80" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> plt.gca()</span>
<span id="cb21-81"><a href="#cb21-81" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb21-82"><a href="#cb21-82" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> data.empty:</span>
<span id="cb21-83"><a href="#cb21-83" aria-hidden="true" tabindex="-1"></a>        data.plot(x<span class="op">=</span>time, y<span class="op">=</span>value, color<span class="op">=</span><span class="st">'lightgray'</span>, rot <span class="op">=</span> <span class="dv">70</span>, xlabel<span class="op">=</span><span class="st">''</span>, lw <span class="op">=</span> <span class="fl">0.5</span>, ax <span class="op">=</span> ax, label<span class="op">=</span><span class="st">''</span>, legend<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb21-84"><a href="#cb21-84" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb21-85"><a href="#cb21-85" aria-hidden="true" tabindex="-1"></a>    ax.spines.top.set_visible(<span class="va">False</span>)</span>
<span id="cb21-86"><a href="#cb21-86" aria-hidden="true" tabindex="-1"></a>    ax.spines.bottom.set_visible(<span class="va">False</span>)</span>
<span id="cb21-87"><a href="#cb21-87" aria-hidden="true" tabindex="-1"></a>    ax.spines.left.set_visible(<span class="va">False</span>)</span>
<span id="cb21-88"><a href="#cb21-88" aria-hidden="true" tabindex="-1"></a>    ax.spines.right.set_visible(<span class="va">False</span>)</span>
<span id="cb21-89"><a href="#cb21-89" aria-hidden="true" tabindex="-1"></a>    ax.set_ylim(y_min,y_max)</span>
<span id="cb21-90"><a href="#cb21-90" aria-hidden="true" tabindex="-1"></a>    ax.set_yticks(yticks)</span>
<span id="cb21-91"><a href="#cb21-91" aria-hidden="true" tabindex="-1"></a>    ax.set_xticks([a <span class="cf">for</span> a <span class="kw">in</span> <span class="bu">range</span>(x_min, x_max<span class="op">+</span><span class="dv">1</span>, xstep)])</span>
<span id="cb21-92"><a href="#cb21-92" aria-hidden="true" tabindex="-1"></a>    ax.grid(lw<span class="op">=</span><span class="fl">0.5</span>, color<span class="op">=</span><span class="st">'gainsboro'</span>)</span>
<span id="cb21-93"><a href="#cb21-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-94"><a href="#cb21-94" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fig, ax</span>
<span id="cb21-95"><a href="#cb21-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-96"><a href="#cb21-96" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_country(ax, country, time<span class="op">=</span><span class="st">'Year(s)'</span>, value <span class="op">=</span> <span class="st">'Value'</span>, color<span class="op">=</span><span class="st">'gray'</span>, label<span class="op">=</span><span class="st">''</span>, maxim <span class="op">=</span> <span class="dv">2021</span>, ): </span>
<span id="cb21-97"><a href="#cb21-97" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb21-98"><a href="#cb21-98" aria-hidden="true" tabindex="-1"></a><span class="co">    Dibuja la curva de un país.</span></span>
<span id="cb21-99"><a href="#cb21-99" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb21-100"><a href="#cb21-100" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters</span></span>
<span id="cb21-101"><a href="#cb21-101" aria-hidden="true" tabindex="-1"></a><span class="co">    ----------</span></span>
<span id="cb21-102"><a href="#cb21-102" aria-hidden="true" tabindex="-1"></a><span class="co">    ax : Axis</span></span>
<span id="cb21-103"><a href="#cb21-103" aria-hidden="true" tabindex="-1"></a><span class="co">        Ejes donde se hará el gráfico.</span></span>
<span id="cb21-104"><a href="#cb21-104" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb21-105"><a href="#cb21-105" aria-hidden="true" tabindex="-1"></a><span class="co">    time: str</span></span>
<span id="cb21-106"><a href="#cb21-106" aria-hidden="true" tabindex="-1"></a><span class="co">        Nombre de la columna con la información de los años.</span></span>
<span id="cb21-107"><a href="#cb21-107" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb21-108"><a href="#cb21-108" aria-hidden="true" tabindex="-1"></a><span class="co">    value: str</span></span>
<span id="cb21-109"><a href="#cb21-109" aria-hidden="true" tabindex="-1"></a><span class="co">        Nombre de la columna con la información de los datos.</span></span>
<span id="cb21-110"><a href="#cb21-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-111"><a href="#cb21-111" aria-hidden="true" tabindex="-1"></a><span class="co">    country: str</span></span>
<span id="cb21-112"><a href="#cb21-112" aria-hidden="true" tabindex="-1"></a><span class="co">        Nombre de la columna con los nombres de los países.</span></span>
<span id="cb21-113"><a href="#cb21-113" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb21-114"><a href="#cb21-114" aria-hidden="true" tabindex="-1"></a><span class="co">    color: str</span></span>
<span id="cb21-115"><a href="#cb21-115" aria-hidden="true" tabindex="-1"></a><span class="co">        Color de la curva.</span></span>
<span id="cb21-116"><a href="#cb21-116" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb21-117"><a href="#cb21-117" aria-hidden="true" tabindex="-1"></a><span class="co">    label: str</span></span>
<span id="cb21-118"><a href="#cb21-118" aria-hidden="true" tabindex="-1"></a><span class="co">        Etiqueta para la curva.</span></span>
<span id="cb21-119"><a href="#cb21-119" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb21-120"><a href="#cb21-120" aria-hidden="true" tabindex="-1"></a><span class="co">    maxim:</span></span>
<span id="cb21-121"><a href="#cb21-121" aria-hidden="true" tabindex="-1"></a><span class="co">        Límite para graficar una línea continua, a partir de este</span></span>
<span id="cb21-122"><a href="#cb21-122" aria-hidden="true" tabindex="-1"></a><span class="co">        límite se dibuja la línea punteada.</span></span>
<span id="cb21-123"><a href="#cb21-123" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span>   </span>
<span id="cb21-124"><a href="#cb21-124" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> country[time][country[time]<span class="op">&gt;=</span>maxim<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb21-125"><a href="#cb21-125" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> country[value][country[time]<span class="op">&gt;=</span>maxim<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb21-126"><a href="#cb21-126" aria-hidden="true" tabindex="-1"></a>    ax.plot(x, y, c<span class="op">=</span>color, ls <span class="op">=</span> <span class="st">'--'</span>, lw <span class="op">=</span> <span class="fl">0.75</span>)</span>
<span id="cb21-127"><a href="#cb21-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-128"><a href="#cb21-128" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> country[time][country[time]<span class="op">&lt;</span>maxim]</span>
<span id="cb21-129"><a href="#cb21-129" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> country[value][country[time]<span class="op">&lt;</span>maxim]</span>
<span id="cb21-130"><a href="#cb21-130" aria-hidden="true" tabindex="-1"></a>    ax.plot(x, y, c<span class="op">=</span>color, ls <span class="op">=</span> <span class="st">'-'</span>, lw <span class="op">=</span> <span class="fl">2.0</span>, label<span class="op">=</span>label)</span>
<span id="cb21-131"><a href="#cb21-131" aria-hidden="true" tabindex="-1"></a>        </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="ec2e6f9d-7d52-4d31-925d-99e1579e3046" class="cell" data-tags="[]" data-execution_count="16">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>TFR_group.get_group(<span class="st">'Yemen'</span>).dropna()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country or Area</th>
<th data-quarto-table-cell-role="th">Year(s)</th>
<th data-quarto-table-cell-role="th">Variant</th>
<th data-quarto-table-cell-role="th">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">43017</td>
<td>Yemen</td>
<td>2100</td>
<td>Medium</td>
<td>1.8205</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">43018</td>
<td>Yemen</td>
<td>2099</td>
<td>Medium</td>
<td>1.8224</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43019</td>
<td>Yemen</td>
<td>2098</td>
<td>Medium</td>
<td>1.8230</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">43020</td>
<td>Yemen</td>
<td>2097</td>
<td>Medium</td>
<td>1.8345</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43021</td>
<td>Yemen</td>
<td>2096</td>
<td>Medium</td>
<td>1.8387</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43163</td>
<td>Yemen</td>
<td>1954</td>
<td>Medium</td>
<td>7.8979</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">43164</td>
<td>Yemen</td>
<td>1953</td>
<td>Medium</td>
<td>7.8988</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43165</td>
<td>Yemen</td>
<td>1952</td>
<td>Medium</td>
<td>7.8836</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">43166</td>
<td>Yemen</td>
<td>1951</td>
<td>Medium</td>
<td>7.8959</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43167</td>
<td>Yemen</td>
<td>1950</td>
<td>Medium</td>
<td>7.9156</td>
</tr>
</tbody>
</table>

<p>151 rows × 4 columns</p>
</div>
</div>
</div>
</div>
<div id="f9ab257e-5d03-4650-a1a7-843c320a81de" class="cell" data-tags="[]" data-execution_count="17">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> set_canvas(TFR, <span class="st">'Year(s)'</span>, <span class="st">'Value'</span>, <span class="st">'Country or Area'</span>, (<span class="dv">10</span>,<span class="dv">7</span>))</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>ax.plot([years[<span class="op">-</span><span class="dv">1</span>], years[<span class="dv">0</span>]],[<span class="fl">2.1</span>,<span class="fl">2.1</span>], c<span class="op">=</span><span class="st">'dimgray'</span>, ls <span class="op">=</span> <span class="st">'solid'</span>, lw<span class="op">=</span><span class="fl">0.75</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>ax.plot([years[<span class="op">-</span><span class="dv">1</span>], years[<span class="dv">0</span>]],[<span class="fl">2.1</span>,<span class="fl">2.1</span>], c<span class="op">=</span><span class="st">'dimgray'</span>, ls <span class="op">=</span> <span class="st">'solid'</span>, alpha<span class="op">=</span><span class="fl">0.25</span>, lw<span class="op">=</span><span class="fl">2.75</span>) </span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Promedio de número de hijos por mujer'</span>, loc<span class="op">=</span><span class="st">'left'</span>, color<span class="op">=</span><span class="st">'gray'</span>, fontsize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'fuente: http://data.un.org'</span>, loc<span class="op">=</span><span class="st">'right'</span>, color<span class="op">=</span><span class="st">'gray'</span>, fontstyle<span class="op">=</span><span class="st">'italic'</span>, fontsize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">'Evolución del TFR (Total Fertility Rate)'</span>, y <span class="op">=</span> <span class="fl">0.96</span>, color<span class="op">=</span><span class="st">'black'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>ax.annotate(<span class="st">'Nivel de </span><span class="ch">\n</span><span class="st"> reemplazo </span><span class="ch">\n</span><span class="st"> promedio = 2.1'</span>, </span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>             xy<span class="op">=</span>(<span class="dv">2090</span>, <span class="fl">2.095</span>), xytext<span class="op">=</span>(<span class="dv">2090</span>, <span class="fl">4.0</span>),</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>             bbox<span class="op">=</span><span class="bu">dict</span>(boxstyle<span class="op">=</span><span class="st">'round'</span>, facecolor<span class="op">=</span><span class="st">'whitesmoke'</span>, edgecolor<span class="op">=</span><span class="st">'gray'</span>, alpha<span class="op">=</span><span class="fl">0.75</span>, linewidth<span class="op">=</span><span class="fl">0.5</span>),</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>             arrowprops<span class="op">=</span><span class="bu">dict</span>(arrowstyle<span class="op">=</span><span class="st">'-&gt;'</span>, facecolor<span class="op">=</span><span class="st">'dimgray'</span>, edgecolor<span class="op">=</span><span class="st">'dimgray'</span>),</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>             fontsize<span class="op">=</span><span class="dv">8</span>, color<span class="op">=</span><span class="st">'black'</span>, horizontalalignment<span class="op">=</span><span class="st">'center'</span>)</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>c_to_plot <span class="op">=</span> [(<span class="st">'Niger'</span>, <span class="st">'Nigeria'</span>, <span class="st">'darkred'</span>), </span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Central African Republic'</span>, <span class="st">'República Centroafricana'</span>, <span class="st">'red'</span>),</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Burundi'</span>, <span class="st">'Burundi'</span>, <span class="st">'orangered'</span>),</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Malawi'</span>, <span class="st">'Malawi'</span>, <span class="st">'darkorange'</span>),</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Yemen'</span>, <span class="st">'Yemen'</span>, <span class="st">'limegreen'</span>), </span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Mexico'</span>, <span class="st">'México'</span>, <span class="st">'forestgreen'</span>),</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Cuba'</span>, <span class="st">'Cuba'</span>, <span class="st">'dodgerblue'</span>),</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Liechtenstein'</span>, <span class="st">'Liechtenstein'</span>, <span class="st">'royalblue'</span>),</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Japan'</span>, <span class="st">'Japón'</span>, <span class="st">'mediumblue'</span>),</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'World'</span>, <span class="st">'Promedio Mundial'</span>, <span class="st">'black'</span>),</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a><span class="co">#             ('Mongolia', 'Mongolia', 'darkorange'),</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a><span class="co">#             ('India','India','limegreen'),</span></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a><span class="co">#             ('United States of America', 'USA', 'deepskyblue'),</span></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a><span class="co">#             ('China', 'China', 'mediumblue'),</span></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a><span class="co">#             ('Spain','España','purple'),</span></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a><span class="co">#             ('Republic of Korea', 'Corea del sur', 'crimson'),</span></span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a><span class="co">#             ('Holy See', 'Ciudad del Vaticano', 'olivedrab'),</span></span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>            ]</span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> c <span class="kw">in</span> c_to_plot:</span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>    c_tfr <span class="op">=</span> TFR_group.get_group(c[<span class="dv">0</span>]).dropna()</span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>    plot_country(ax, c_tfr, color<span class="op">=</span>c[<span class="dv">2</span>])</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>    ytext <span class="op">=</span> c_tfr[<span class="st">'Value'</span>][c_tfr[<span class="st">'Year(s)'</span>] <span class="op">==</span> <span class="dv">2020</span>].values[<span class="dv">0</span>]</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>    ytext_i <span class="op">=</span> c_tfr[<span class="st">'Value'</span>][c_tfr[<span class="st">'Year(s)'</span>] <span class="op">==</span> <span class="dv">1950</span>].values[<span class="dv">0</span>]</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> c[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Mexico'</span>:</span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>        ytext_i <span class="op">-=</span> <span class="fl">0.1</span></span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> c[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Malawi'</span>:</span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a>        ytext_i <span class="op">-=</span> <span class="fl">0.03</span></span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a>    plt.text(<span class="dv">1945</span>, ytext_i, <span class="st">"</span><span class="sc">{:.2f}</span><span class="st">"</span>.<span class="bu">format</span>(ytext_i), color <span class="op">=</span> c[<span class="dv">2</span>], fontsize<span class="op">=</span><span class="dv">8</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb23-45"><a href="#cb23-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-46"><a href="#cb23-46" aria-hidden="true" tabindex="-1"></a>    xy_x <span class="op">=</span> <span class="dv">2020</span></span>
<span id="cb23-47"><a href="#cb23-47" aria-hidden="true" tabindex="-1"></a>    xytext_x <span class="op">=</span> <span class="dv">2040</span></span>
<span id="cb23-48"><a href="#cb23-48" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-49"><a href="#cb23-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> c[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'World'</span>:</span>
<span id="cb23-50"><a href="#cb23-50" aria-hidden="true" tabindex="-1"></a>        yoff <span class="op">=</span> <span class="fl">0.6</span></span>
<span id="cb23-51"><a href="#cb23-51" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> c[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Mongolia'</span>:</span>
<span id="cb23-52"><a href="#cb23-52" aria-hidden="true" tabindex="-1"></a>        yoff <span class="op">=</span> <span class="fl">0.6</span></span>
<span id="cb23-53"><a href="#cb23-53" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> c[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'India'</span>:</span>
<span id="cb23-54"><a href="#cb23-54" aria-hidden="true" tabindex="-1"></a>        yoff <span class="op">=</span> <span class="fl">0.4</span></span>
<span id="cb23-55"><a href="#cb23-55" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> c[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'United States of America'</span>:</span>
<span id="cb23-56"><a href="#cb23-56" aria-hidden="true" tabindex="-1"></a>        yoff <span class="op">=</span> <span class="op">-</span><span class="fl">0.2</span></span>
<span id="cb23-57"><a href="#cb23-57" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> c[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Republic of Korea'</span>:</span>
<span id="cb23-58"><a href="#cb23-58" aria-hidden="true" tabindex="-1"></a>        yoff <span class="op">=</span> <span class="op">-</span><span class="fl">0.7</span></span>
<span id="cb23-59"><a href="#cb23-59" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> c[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Mexico'</span>:</span>
<span id="cb23-60"><a href="#cb23-60" aria-hidden="true" tabindex="-1"></a>        yoff <span class="op">=</span> <span class="op">-</span><span class="fl">0.05</span></span>
<span id="cb23-61"><a href="#cb23-61" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> c[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Malawi'</span>:</span>
<span id="cb23-62"><a href="#cb23-62" aria-hidden="true" tabindex="-1"></a>        yoff <span class="op">=</span> <span class="fl">0.6</span></span>
<span id="cb23-63"><a href="#cb23-63" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> c[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Yemen'</span>:</span>
<span id="cb23-64"><a href="#cb23-64" aria-hidden="true" tabindex="-1"></a>        yoff <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb23-65"><a href="#cb23-65" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> c[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Japan'</span>:</span>
<span id="cb23-66"><a href="#cb23-66" aria-hidden="true" tabindex="-1"></a>        yoff <span class="op">=</span> <span class="op">-</span><span class="fl">0.9</span></span>
<span id="cb23-67"><a href="#cb23-67" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> c[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Cuba'</span>:</span>
<span id="cb23-68"><a href="#cb23-68" aria-hidden="true" tabindex="-1"></a>        yoff <span class="op">=</span> <span class="op">-</span><span class="fl">0.3</span></span>
<span id="cb23-69"><a href="#cb23-69" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> c[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Liechtenstein'</span>:</span>
<span id="cb23-70"><a href="#cb23-70" aria-hidden="true" tabindex="-1"></a>        yoff <span class="op">=</span> <span class="op">-</span><span class="fl">0.7</span></span>
<span id="cb23-71"><a href="#cb23-71" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> c[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Holy See'</span>:</span>
<span id="cb23-72"><a href="#cb23-72" aria-hidden="true" tabindex="-1"></a>        xy_x <span class="op">=</span> <span class="dv">1980</span></span>
<span id="cb23-73"><a href="#cb23-73" aria-hidden="true" tabindex="-1"></a>        xytext_x <span class="op">=</span> <span class="dv">1965</span></span>
<span id="cb23-74"><a href="#cb23-74" aria-hidden="true" tabindex="-1"></a>        yoff <span class="op">=</span> <span class="op">-</span><span class="fl">0.5</span></span>
<span id="cb23-75"><a href="#cb23-75" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb23-76"><a href="#cb23-76" aria-hidden="true" tabindex="-1"></a>        yoff <span class="op">=</span> <span class="fl">0.2</span></span>
<span id="cb23-77"><a href="#cb23-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-78"><a href="#cb23-78" aria-hidden="true" tabindex="-1"></a>    plt.annotate(c[<span class="dv">1</span>]<span class="op">+</span><span class="st">": </span><span class="sc">{:.2f}</span><span class="st">"</span>.<span class="bu">format</span>(ytext), xy <span class="op">=</span> (xy_x, ytext), xytext <span class="op">=</span> (xytext_x, ytext<span class="op">+</span>yoff), </span>
<span id="cb23-79"><a href="#cb23-79" aria-hidden="true" tabindex="-1"></a>                     color <span class="op">=</span> c[<span class="dv">2</span>], fontsize<span class="op">=</span><span class="dv">8</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>,</span>
<span id="cb23-80"><a href="#cb23-80" aria-hidden="true" tabindex="-1"></a>                     bbox<span class="op">=</span><span class="bu">dict</span>(boxstyle<span class="op">=</span><span class="st">'round'</span>, fc<span class="op">=</span><span class="st">'white'</span>, ec<span class="op">=</span><span class="st">'gainsboro'</span>, alpha<span class="op">=</span><span class="fl">0.75</span>, linewidth<span class="op">=</span><span class="fl">0.25</span>),</span>
<span id="cb23-81"><a href="#cb23-81" aria-hidden="true" tabindex="-1"></a>                     arrowprops<span class="op">=</span><span class="bu">dict</span>(arrowstyle<span class="op">=</span><span class="st">'-'</span>, color<span class="op">=</span>c[<span class="dv">2</span>]))</span>
<span id="cb23-82"><a href="#cb23-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-83"><a href="#cb23-83" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">'TFR.png'</span>, dpi<span class="op">=</span><span class="dv">300</span>)</span>
<span id="cb23-84"><a href="#cb23-84" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Máximo = 8.8637,     País : Yemen
Mínimo = 0.7455,     País : China, Hong Kong SAR</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="04_Fertilidad_mundial_files/figure-html/cell-18-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="exploración-de-los-otros-datos." class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="exploración-de-los-otros-datos."><span class="header-section-number">5.3</span> Exploración de los otros datos.</h2>
<div id="51c5b4e8-6c88-4261-84a9-0f34cdbbec0c" class="cell" data-tags="[]" data-execution_count="18">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> set_canvas(LEB, <span class="st">'Year(s)'</span>, <span class="st">'Value'</span>, <span class="st">'Country or Area'</span>, (<span class="dv">10</span>,<span class="dv">7</span>), ystep<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>plot_country(ax, LEB_group.get_group(<span class="st">'Yemen'</span>).dropna(), color<span class="op">=</span><span class="st">'C0'</span>, label<span class="op">=</span><span class="st">'Yemen'</span>, maxim<span class="op">=</span><span class="dv">2022</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>plot_country(ax, LEB_group.get_group(<span class="st">'Mexico'</span>).dropna(), color<span class="op">=</span><span class="st">'C1'</span>, label<span class="op">=</span><span class="st">'México'</span>, maxim<span class="op">=</span><span class="dv">2022</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>plot_country(ax, LEB_group.get_group(<span class="st">'Germany'</span>).dropna(), color<span class="op">=</span><span class="st">'C2'</span>, label<span class="op">=</span><span class="st">'Alemania'</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>plot_country(ax, LEB_group.get_group(<span class="st">'Holy See'</span>).dropna(), color<span class="op">=</span><span class="st">'C3'</span>, label<span class="op">=</span><span class="st">'El Baticano'</span>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>plot_country(ax, LEB_group.get_group(<span class="st">'United States of America'</span>).dropna(), color<span class="op">=</span><span class="st">'C4'</span>, label<span class="op">=</span><span class="st">'USA'</span>)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>plot_country(ax, LEB_group.get_group(<span class="st">'Niger'</span>).dropna(), color<span class="op">=</span><span class="st">'C5'</span>, label<span class="op">=</span><span class="st">'Nigeria'</span>)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>plot_country(ax, LEB_group.get_group(<span class="st">'China, Hong Kong SAR'</span>).dropna(), color<span class="op">=</span><span class="st">'C6'</span>, label<span class="op">=</span><span class="st">'Hong Kong'</span>)</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>plot_country(ax, LEB_group.get_group(<span class="st">'San Marino'</span>).dropna(), color<span class="op">=</span><span class="st">'C8'</span>, label<span class="op">=</span><span class="st">'San Marino'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Máximo = 95.7552,    País : Monaco
Mínimo = 11.9951,    País : Cambodia</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="04_Fertilidad_mundial_files/figure-html/cell-19-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="ecfa521b-9dcd-4954-9712-69cbf481b7e3" class="cell" data-tags="[]" data-execution_count="19">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>maxmin(GDP, <span class="st">'Year'</span>, <span class="st">'Value'</span>, <span class="st">'Country or Area'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>('Monaco', 234317.084818276, 'Viet Nam', 34.1125600868106, 1970, 2021)</code></pre>
</div>
</div>
<div id="c0a3cae2-c834-4a96-b338-9fd05de8531f" class="cell" data-tags="[]" data-execution_count="20">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> set_canvas(GDP, <span class="st">'Year'</span>, <span class="st">'Value'</span>, <span class="st">'Country or Area'</span>, (<span class="dv">10</span>,<span class="dv">7</span>), xstep<span class="op">=</span><span class="dv">5</span>, ystep<span class="op">=</span><span class="dv">10000</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>plot_country(ax, GDP_group.get_group(<span class="st">'Yemen'</span>).dropna(), time <span class="op">=</span> <span class="st">'Year'</span>, color<span class="op">=</span><span class="st">'C0'</span>, label<span class="op">=</span><span class="st">'Yemen'</span>, maxim<span class="op">=</span><span class="dv">2022</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>plot_country(ax, GDP_group.get_group(<span class="st">'Mexico'</span>).dropna(), time <span class="op">=</span> <span class="st">'Year'</span>, color<span class="op">=</span><span class="st">'C1'</span>, label<span class="op">=</span><span class="st">'México'</span>, maxim<span class="op">=</span><span class="dv">2022</span>)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>plot_country(ax, GDP_group.get_group(<span class="st">'Germany'</span>).dropna(), time <span class="op">=</span> <span class="st">'Year'</span>, color<span class="op">=</span><span class="st">'C2'</span>, label<span class="op">=</span><span class="st">'Alemania'</span>)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co">#plot_country(ax, GDP_group.get_group('Holy See').dropna(), time = 'Year', color='C3', label='El Baticano')</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co">#plot_country(ax, GDP_group.get_group('United States of America').dropna(), time = 'Year', color='C4', label='USA')</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>plot_country(ax, GDP_group.get_group(<span class="st">'Niger'</span>).dropna(), time <span class="op">=</span> <span class="st">'Year'</span>, color<span class="op">=</span><span class="st">'C5'</span>, label<span class="op">=</span><span class="st">'Nigeria'</span>)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>plot_country(ax, GDP_group.get_group(<span class="st">'China, Hong Kong SAR'</span>).dropna(), time <span class="op">=</span> <span class="st">'Year'</span>, color<span class="op">=</span><span class="st">'C6'</span>, label<span class="op">=</span><span class="st">'Hong Kong'</span>)</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>plot_country(ax, GDP_group.get_group(<span class="st">'San Marino'</span>).dropna(), time <span class="op">=</span> <span class="st">'Year'</span>, color<span class="op">=</span><span class="st">'C8'</span>, label<span class="op">=</span><span class="st">'San Marino'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Máximo = 234317.084818276,   País : Monaco
Mínimo = 34.1125600868106,   País : Viet Nam</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="04_Fertilidad_mundial_files/figure-html/cell-21-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="ef539b61-cafd-4427-a3e2-e316395c6e5a" class="cell" data-tags="[]" data-execution_count="21">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>maxmin(EDU, <span class="st">'Time Period'</span>, <span class="st">'Observation Value'</span>, <span class="st">'Reference Area'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>('Cuba', 150.70758, 'Anguilla', 0.0, 1975, 2015)</code></pre>
</div>
</div>
<div id="98531646-b161-4df5-b3f2-7fd7596b29d8" class="cell" data-tags="[]" data-execution_count="22">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> set_canvas(EDU, <span class="st">'Time Period'</span>, <span class="st">'Observation Value'</span>, <span class="st">'Reference Area'</span>, (<span class="dv">10</span>,<span class="dv">7</span>), xstep<span class="op">=</span><span class="dv">5</span>, ystep<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>plot_country(ax, EDU_group.get_group(<span class="st">'Yemen'</span>).dropna(), time <span class="op">=</span> <span class="st">'Time Period'</span>, value <span class="op">=</span> <span class="st">'Observation Value'</span>, color<span class="op">=</span><span class="st">'C0'</span>, label<span class="op">=</span><span class="st">'Yemen'</span>, maxim<span class="op">=</span><span class="dv">2022</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>plot_country(ax, EDU_group.get_group(<span class="st">'Mexico'</span>).dropna(), time <span class="op">=</span> <span class="st">'Time Period'</span>, value <span class="op">=</span> <span class="st">'Observation Value'</span>, color<span class="op">=</span><span class="st">'C1'</span>, label<span class="op">=</span><span class="st">'México'</span>, maxim<span class="op">=</span><span class="dv">2022</span>)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>plot_country(ax, EDU_group.get_group(<span class="st">'Germany'</span>).dropna(), time <span class="op">=</span> <span class="st">'Time Period'</span>, value <span class="op">=</span> <span class="st">'Observation Value'</span>, color<span class="op">=</span><span class="st">'C2'</span>, label<span class="op">=</span><span class="st">'Alemania'</span>)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co">#plot_country(ax, EDU_group.get_group('Holy See').dropna(), time = 'Time Period', value = 'Observation Value', color='C3', label='El Baticano')</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>plot_country(ax, EDU_group.get_group(<span class="st">'United States of America'</span>).dropna(), time <span class="op">=</span> <span class="st">'Time Period'</span>, value <span class="op">=</span> <span class="st">'Observation Value'</span>, color<span class="op">=</span><span class="st">'C4'</span>, label<span class="op">=</span><span class="st">'USA'</span>)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>plot_country(ax, EDU_group.get_group(<span class="st">'Niger'</span>).dropna(), time <span class="op">=</span> <span class="st">'Time Period'</span>, value <span class="op">=</span> <span class="st">'Observation Value'</span>, color<span class="op">=</span><span class="st">'C5'</span>, label<span class="op">=</span><span class="st">'Nigeria'</span>)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co">#plot_country(ax, EDU_group.get_group('China, Hong Kong SAR').dropna(), time = 'Time Period', value = 'Observation Value', color='C6', label='Hong Kong')</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>plot_country(ax, EDU_group.get_group(<span class="st">'San Marino'</span>).dropna(), time <span class="op">=</span> <span class="st">'Time Period'</span>, value <span class="op">=</span> <span class="st">'Observation Value'</span>, color<span class="op">=</span><span class="st">'C8'</span>, label<span class="op">=</span><span class="st">'San Marino'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Máximo = 150.70758,      País : Cuba
Mínimo = 0.0,    País : Anguilla</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="04_Fertilidad_mundial_files/figure-html/cell-23-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="construcción-del-hdi" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="construcción-del-hdi"><span class="header-section-number">5.4</span> Construcción del HDI</h2>
<p>Se extrae información para el año 2010.</p>
<div id="0429832c-2dca-43ae-b04f-b76975d76c47" class="cell" data-tags="[]" data-execution_count="36">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>countries <span class="op">=</span> <span class="bu">list</span>(<span class="bu">filter</span>(filtra_EDU, <span class="bu">list</span>(<span class="bu">filter</span>(filtra_GDP, <span class="bu">list</span>(<span class="bu">filter</span>(filtra_LEB, TFR_countries))))))</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>tfr <span class="op">=</span> pd.Series(dtype<span class="op">=</span><span class="bu">float</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>gdp <span class="op">=</span> pd.Series(dtype<span class="op">=</span><span class="bu">float</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>edu <span class="op">=</span> pd.Series(dtype<span class="op">=</span><span class="bu">float</span>)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>leb <span class="op">=</span> pd.Series(dtype<span class="op">=</span><span class="bu">float</span>)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>final_countries <span class="op">=</span> []</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>año <span class="op">=</span> <span class="dv">2010</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>paises_to_remove <span class="op">=</span> [<span class="st">'Malaysia'</span>, <span class="st">'British Virgin Islands'</span>, <span class="st">'Cook Islands'</span>, <span class="st">'Monaco'</span>, <span class="st">'Seychelles'</span>]</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> p <span class="kw">in</span> paises_to_remove:</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>    countries.remove(p)</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, c <span class="kw">in</span> <span class="bu">enumerate</span>(countries):</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>    c_g <span class="op">=</span> EDU_group.get_group(c).groupby(<span class="st">'Sex'</span>).get_group(<span class="st">'Female'</span>)</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> año <span class="kw">in</span> c_g[<span class="st">'Time Period'</span>].values:</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>        final_countries.append(c)</span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>        edu <span class="op">=</span> pd.concat([edu, c_g[c_g[<span class="st">'Time Period'</span>] <span class="op">==</span> año][<span class="st">'Observation Value'</span>]])</span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>        c_g <span class="op">=</span> GDP_group.get_group(c)</span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>        gdp <span class="op">=</span> pd.concat([gdp, c_g[c_g[<span class="st">'Year'</span>] <span class="op">==</span> año][<span class="st">'Value'</span>]])</span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>        c_g <span class="op">=</span> TFR_group.get_group(c)</span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>        tfr <span class="op">=</span> pd.concat([tfr, c_g[c_g[<span class="st">'Year(s)'</span>] <span class="op">==</span> año][<span class="st">'Value'</span>]])</span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>        c_g <span class="op">=</span> LEB_group.get_group(c)</span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a>        leb <span class="op">=</span> pd.concat([leb, c_g[c_g[<span class="st">'Year(s)'</span>] <span class="op">==</span> año][<span class="st">'Value'</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="bb50c2e6-cea5-431f-a283-38f32654a4e4" class="cell" data-tags="[]" data-execution_count="37">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(tfr), <span class="bu">len</span>(gdp), <span class="bu">len</span>(edu), <span class="bu">len</span>(leb))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>118 118 118 118</code></pre>
</div>
</div>
<p>Se construye el dataframe con todas las variables para los países donde se tiene información.</p>
<div id="76f582ac-794a-4408-a848-fcc2af301a7b" class="cell" data-tags="[]" data-execution_count="38">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>hdi <span class="op">=</span> pd.DataFrame()</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>hdi[<span class="st">'País'</span>] <span class="op">=</span> final_countries</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>hdi[<span class="st">'TFR'</span>] <span class="op">=</span> <span class="bu">list</span>(tfr)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>hdi[<span class="st">'GDP'</span>] <span class="op">=</span> <span class="bu">list</span>(gdp)</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>hdi[<span class="st">'EDU'</span>] <span class="op">=</span> <span class="bu">list</span>(edu)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>hdi[<span class="st">'LEB'</span>] <span class="op">=</span> <span class="bu">list</span>(leb)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>hdi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">País</th>
<th data-quarto-table-cell-role="th">TFR</th>
<th data-quarto-table-cell-role="th">GDP</th>
<th data-quarto-table-cell-role="th">EDU</th>
<th data-quarto-table-cell-role="th">LEB</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Albania</td>
<td>1.6564</td>
<td>4052.927488</td>
<td>52.38337</td>
<td>77.9359</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Algeria</td>
<td>2.8434</td>
<td>4493.635433</td>
<td>35.33614</td>
<td>73.8081</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Antigua and Barbuda</td>
<td>1.7854</td>
<td>13038.258604</td>
<td>22.67580</td>
<td>76.8195</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Argentina</td>
<td>2.3462</td>
<td>10023.206688</td>
<td>89.15845</td>
<td>75.7208</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Armenia</td>
<td>1.5010</td>
<td>3462.399904</td>
<td>63.13266</td>
<td>73.1597</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">113</td>
<td>Uruguay</td>
<td>2.0110</td>
<td>11567.565434</td>
<td>80.32340</td>
<td>76.8580</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">114</td>
<td>Uzbekistan</td>
<td>2.4407</td>
<td>1789.707894</td>
<td>7.55595</td>
<td>69.2354</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">115</td>
<td>Viet Nam</td>
<td>1.8949</td>
<td>1631.765100</td>
<td>22.71635</td>
<td>73.5126</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">116</td>
<td>Yemen</td>
<td>4.8553</td>
<td>1179.830933</td>
<td>6.40428</td>
<td>67.2800</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">117</td>
<td>Zimbabwe</td>
<td>4.0248</td>
<td>826.676632</td>
<td>5.23100</td>
<td>50.6523</td>
</tr>
</tbody>
</table>

<p>118 rows × 5 columns</p>
</div>
</div>
</div>
</div>
<p>Se agrega una columna para el HDI.</p>
<div id="2ca644e8-aa21-459d-bff4-3943e7197f2b" class="cell" data-tags="[]" data-execution_count="39">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>hdi[<span class="st">'HDI'</span>] <span class="op">=</span> np.cbrt(hdi.TFR <span class="op">*</span> hdi.EDU <span class="op">*</span> hdi.LEB)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="bf21ef86-a643-45a4-ae96-09e3b9dc64b7" class="cell" data-tags="[]" data-execution_count="40">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>hdi[<span class="st">'HDI'</span>] <span class="op">=</span> hdi.HDI <span class="op">/</span> hdi.HDI.<span class="bu">max</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="976f632f-11c8-4929-8f4e-ee9b7c74204b" class="cell" data-tags="[]" data-execution_count="31">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>hdi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">País</th>
<th data-quarto-table-cell-role="th">TFR</th>
<th data-quarto-table-cell-role="th">GDP</th>
<th data-quarto-table-cell-role="th">EDU</th>
<th data-quarto-table-cell-role="th">LEB</th>
<th data-quarto-table-cell-role="th">HDI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Albania</td>
<td>1.6564</td>
<td>4052.927488</td>
<td>52.38337</td>
<td>77.9359</td>
<td>0.719815</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Algeria</td>
<td>2.8434</td>
<td>4493.635433</td>
<td>35.33614</td>
<td>73.8081</td>
<td>0.742293</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Antigua and Barbuda</td>
<td>1.7854</td>
<td>13038.258604</td>
<td>22.67580</td>
<td>76.8195</td>
<td>0.555621</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Argentina</td>
<td>2.3462</td>
<td>10023.206688</td>
<td>89.15845</td>
<td>75.7208</td>
<td>0.955952</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Armenia</td>
<td>1.5010</td>
<td>3462.399904</td>
<td>63.13266</td>
<td>73.1597</td>
<td>0.725812</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">113</td>
<td>Uruguay</td>
<td>2.0110</td>
<td>11567.565434</td>
<td>80.32340</td>
<td>76.8580</td>
<td>0.881393</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">114</td>
<td>Uzbekistan</td>
<td>2.4407</td>
<td>1789.707894</td>
<td>7.55595</td>
<td>69.2354</td>
<td>0.412952</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">115</td>
<td>Viet Nam</td>
<td>1.8949</td>
<td>1631.765100</td>
<td>22.71635</td>
<td>73.5126</td>
<td>0.558836</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">116</td>
<td>Yemen</td>
<td>4.8553</td>
<td>1179.830933</td>
<td>6.40428</td>
<td>67.2800</td>
<td>0.486832</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">117</td>
<td>Zimbabwe</td>
<td>4.0248</td>
<td>826.676632</td>
<td>5.23100</td>
<td>50.6523</td>
<td>0.388894</td>
</tr>
</tbody>
</table>

<p>118 rows × 6 columns</p>
</div>
</div>
</div>
</div>
<p>Se realiza una regresión lineal del HDI vs TFR.</p>
<div id="b6514c2b-0010-4e27-a6c3-8bf715a0c910" class="cell" data-tags="[]" data-execution_count="41">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>lres <span class="op">=</span> scipy.stats.linregress(hdi.TFR, hdi.HDI)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(lres.slope, lres.intercept, lres.rvalue<span class="op">**</span><span class="dv">2</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(<span class="dv">1</span>,<span class="dv">9</span>,<span class="dv">100</span>)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> lres.slope <span class="op">*</span> x <span class="op">+</span> lres.intercept</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>plt.plot(x, y, label<span class="op">=</span><span class="st">'Regresión lineal'</span>)</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>-0.08804520907984292 0.8975361617317406 0.5010566535168526</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="04_Fertilidad_mundial_files/figure-html/cell-30-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Se grafica todo juntos</p>
<div id="4a345341-ccb3-46e7-b665-6f84b83b4327" class="cell" data-tags="[]" data-execution_count="42">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>hdi.sort_values(<span class="st">'EDU'</span>, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>lista_paises <span class="op">=</span> [(<span class="st">'Niger'</span>, <span class="st">'Nigeria'</span>, <span class="st">'darkred'</span>), </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Central African Republic'</span>, <span class="st">'República Centroafricana'</span>, <span class="st">'red'</span>),</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Burundi'</span>, <span class="st">'Burundi'</span>, <span class="st">'orangered'</span>),</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Malawi'</span>, <span class="st">'Malawi'</span>, <span class="st">'darkorange'</span>),</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Yemen'</span>, <span class="st">'Yemen'</span>, <span class="st">'limegreen'</span>), </span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Mexico'</span>, <span class="st">'México'</span>, <span class="st">'forestgreen'</span>),</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Cuba'</span>, <span class="st">'Cuba'</span>, <span class="st">'dodgerblue'</span>),</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Liechtenstein'</span>, <span class="st">'Liechtenstein'</span>, <span class="st">'royalblue'</span>),</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>             (<span class="st">'Japan'</span>, <span class="st">'Japón'</span>, <span class="st">'mediumblue'</span>)</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>               ]</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>paises_to_plot <span class="op">=</span> [hdi[hdi[<span class="st">'País'</span>] <span class="op">==</span> p[<span class="dv">0</span>]] <span class="cf">for</span> p <span class="kw">in</span> lista_paises]</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">8</span>))</span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> plt.subplot(<span class="dv">111</span>)</span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>niv_edu <span class="op">=</span> np.array(hdi[<span class="st">'EDU'</span>]<span class="op">*</span><span class="fl">10.0</span>)</span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a><span class="co">#gdp_val = np.array(np.log(hdi['GDP']))</span></span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>gdp_val <span class="op">=</span> np.array(hdi[<span class="st">'GDP'</span>])</span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a>scatter <span class="op">=</span> ax.scatter(hdi[<span class="st">'TFR'</span>], hdi[<span class="st">'HDI'</span>], marker<span class="op">=</span><span class="st">'o'</span>, s<span class="op">=</span>niv_edu, c<span class="op">=</span>gdp_val, ec<span class="op">=</span><span class="st">'silver'</span>, cmap<span class="op">=</span><span class="st">'YlGnBu'</span>, alpha<span class="op">=</span><span class="fl">0.75</span>)</span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a>ha <span class="op">=</span> <span class="st">'right'</span></span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> pa, cl <span class="kw">in</span> <span class="bu">zip</span>(paises_to_plot, lista_paises):</span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> cl[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Yemen'</span>:</span>
<span id="cb44-28"><a href="#cb44-28" aria-hidden="true" tabindex="-1"></a>        xt, yt <span class="op">=</span> <span class="fl">6.</span>, <span class="fl">0.55</span></span>
<span id="cb44-29"><a href="#cb44-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> cl[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Niger'</span>:</span>
<span id="cb44-30"><a href="#cb44-30" aria-hidden="true" tabindex="-1"></a>        xt, yt <span class="op">=</span> <span class="dv">8</span>, <span class="fl">0.4</span></span>
<span id="cb44-31"><a href="#cb44-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> cl[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'India'</span>:</span>
<span id="cb44-32"><a href="#cb44-32" aria-hidden="true" tabindex="-1"></a>        xt, yt <span class="op">=</span> <span class="fl">3.0</span>, <span class="fl">0.2</span></span>
<span id="cb44-33"><a href="#cb44-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> cl[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Yemen'</span>:</span>
<span id="cb44-34"><a href="#cb44-34" aria-hidden="true" tabindex="-1"></a>        xt, yt <span class="op">=</span> <span class="fl">4.5</span>, <span class="fl">1.0</span></span>
<span id="cb44-35"><a href="#cb44-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> cl[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Mexico'</span>:</span>
<span id="cb44-36"><a href="#cb44-36" aria-hidden="true" tabindex="-1"></a>        xt, yt <span class="op">=</span> <span class="fl">2.25</span>, <span class="fl">.25</span></span>
<span id="cb44-37"><a href="#cb44-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> cl[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Liechtenstein'</span>:</span>
<span id="cb44-38"><a href="#cb44-38" aria-hidden="true" tabindex="-1"></a>        xt, yt <span class="op">=</span> <span class="fl">0.75</span>, <span class="fl">0.35</span></span>
<span id="cb44-39"><a href="#cb44-39" aria-hidden="true" tabindex="-1"></a>        ha <span class="op">=</span> <span class="st">'left'</span></span>
<span id="cb44-40"><a href="#cb44-40" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> cl[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Burundi'</span>:</span>
<span id="cb44-41"><a href="#cb44-41" aria-hidden="true" tabindex="-1"></a>        xt, yt <span class="op">=</span> <span class="fl">6.75</span>, <span class="fl">0.45</span></span>
<span id="cb44-42"><a href="#cb44-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> cl[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Central African Republic'</span>:</span>
<span id="cb44-43"><a href="#cb44-43" aria-hidden="true" tabindex="-1"></a>        xt, yt <span class="op">=</span> <span class="dv">7</span>, <span class="fl">0.1</span></span>
<span id="cb44-44"><a href="#cb44-44" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> cl[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Malawi'</span>:</span>
<span id="cb44-45"><a href="#cb44-45" aria-hidden="true" tabindex="-1"></a>        xt, yt <span class="op">=</span> <span class="dv">4</span>, <span class="fl">0.1</span></span>
<span id="cb44-46"><a href="#cb44-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> cl[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Republic of Korea'</span>:</span>
<span id="cb44-47"><a href="#cb44-47" aria-hidden="true" tabindex="-1"></a>        xt, yt <span class="op">=</span> <span class="fl">0.65</span>, <span class="fl">1.05</span></span>
<span id="cb44-48"><a href="#cb44-48" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> cl[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'Cuba'</span>:</span>
<span id="cb44-49"><a href="#cb44-49" aria-hidden="true" tabindex="-1"></a>        xt, yt <span class="op">=</span> <span class="dv">3</span>, <span class="fl">1.05</span></span>
<span id="cb44-50"><a href="#cb44-50" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb44-51"><a href="#cb44-51" aria-hidden="true" tabindex="-1"></a>        xt, yt <span class="op">=</span> <span class="fl">0.75</span>, <span class="fl">1.0</span></span>
<span id="cb44-52"><a href="#cb44-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-53"><a href="#cb44-53" aria-hidden="true" tabindex="-1"></a>    niv_edu <span class="op">=</span> np.array(pa[<span class="st">'EDU'</span>]<span class="op">*</span><span class="fl">10.0</span>)</span>
<span id="cb44-54"><a href="#cb44-54" aria-hidden="true" tabindex="-1"></a>    gdp_val <span class="op">=</span> np.array(np.log(pa[<span class="st">'GDP'</span>]))</span>
<span id="cb44-55"><a href="#cb44-55" aria-hidden="true" tabindex="-1"></a>    ax.scatter(pa[<span class="st">'TFR'</span>], pa[<span class="st">'HDI'</span>], marker<span class="op">=</span><span class="st">'o'</span>, s <span class="op">=</span> niv_edu, ec<span class="op">=</span>cl[<span class="dv">2</span>], facecolor<span class="op">=</span><span class="st">"None"</span>, alpha<span class="op">=</span><span class="fl">0.1</span>, zorder<span class="op">=</span><span class="dv">15</span>)</span>
<span id="cb44-56"><a href="#cb44-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-57"><a href="#cb44-57" aria-hidden="true" tabindex="-1"></a>    plt.annotate(cl[<span class="dv">1</span>], xy <span class="op">=</span> (pa[<span class="st">'TFR'</span>], pa[<span class="st">'HDI'</span>]), xytext <span class="op">=</span> (xt, yt), zorder<span class="op">=</span><span class="dv">20</span>,</span>
<span id="cb44-58"><a href="#cb44-58" aria-hidden="true" tabindex="-1"></a>                     color <span class="op">=</span> cl[<span class="dv">2</span>], fontsize<span class="op">=</span><span class="dv">10</span>, fontweight<span class="op">=</span><span class="st">'normal'</span>, ha<span class="op">=</span>ha,</span>
<span id="cb44-59"><a href="#cb44-59" aria-hidden="true" tabindex="-1"></a>                     bbox<span class="op">=</span><span class="bu">dict</span>(boxstyle<span class="op">=</span><span class="st">'round'</span>, fc<span class="op">=</span><span class="st">'white'</span>, ec<span class="op">=</span><span class="st">'gainsboro'</span>, alpha<span class="op">=</span><span class="fl">0.75</span>, linewidth<span class="op">=</span><span class="fl">0.25</span>),</span>
<span id="cb44-60"><a href="#cb44-60" aria-hidden="true" tabindex="-1"></a>                     arrowprops<span class="op">=</span><span class="bu">dict</span>(arrowstyle<span class="op">=</span><span class="st">'-&gt;'</span>, color<span class="op">=</span>cl[<span class="dv">2</span>]))</span>
<span id="cb44-61"><a href="#cb44-61" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb44-62"><a href="#cb44-62" aria-hidden="true" tabindex="-1"></a>ax.plot(x,y,<span class="st">'k--'</span>, alpha<span class="op">=</span><span class="fl">0.5</span>, lw<span class="op">=</span><span class="dv">3</span>, label<span class="op">=</span><span class="st">'Ajuste: slope = </span><span class="sc">{:0.3f}</span><span class="st">, intercept = </span><span class="sc">{:0.3f}</span><span class="st">, PCC = </span><span class="sc">{:0.3f}</span><span class="st">'</span>.<span class="bu">format</span>(lres.slope, lres.intercept, lres.rvalue))</span>
<span id="cb44-63"><a href="#cb44-63" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'TFR'</span>)</span>
<span id="cb44-64"><a href="#cb44-64" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'HDI'</span>)</span>
<span id="cb44-65"><a href="#cb44-65" aria-hidden="true" tabindex="-1"></a>ax.set_xticks([i <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">10</span>)], labels<span class="op">=</span>[i <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">10</span>)], fontsize<span class="op">=</span><span class="dv">14</span> )</span>
<span id="cb44-66"><a href="#cb44-66" aria-hidden="true" tabindex="-1"></a>ax.set_yticks([<span class="dv">0</span>,<span class="fl">0.2</span>,<span class="fl">0.4</span>,<span class="fl">0.6</span>,<span class="fl">0.8</span>,<span class="fl">1.0</span>], labels<span class="op">=</span>[<span class="dv">0</span>,<span class="fl">0.2</span>,<span class="fl">0.4</span>,<span class="fl">0.6</span>,<span class="fl">0.8</span>,<span class="fl">1.0</span>], fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb44-67"><a href="#cb44-67" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="op">-</span><span class="fl">0.1</span>, <span class="fl">1.1</span>)</span>
<span id="cb44-68"><a href="#cb44-68" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'bottom'</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb44-69"><a href="#cb44-69" aria-hidden="true" tabindex="-1"></a>ax.grid(lw<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb44-70"><a href="#cb44-70" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Efecto del TFR, GDP y EDU en el HDI'</span>, loc<span class="op">=</span><span class="st">'left'</span>, color<span class="op">=</span><span class="st">'gray'</span>, fontsize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb44-71"><a href="#cb44-71" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'fuente: http://data.un.org'</span>, loc<span class="op">=</span><span class="st">'right'</span>, color<span class="op">=</span><span class="st">'gray'</span>, fontstyle<span class="op">=</span><span class="st">'italic'</span>, fontsize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb44-72"><a href="#cb44-72" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">'Índice de desarrollo humano (HDI) en 2010'</span>, y <span class="op">=</span> <span class="fl">0.96</span>, color<span class="op">=</span><span class="st">'black'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb44-73"><a href="#cb44-73" aria-hidden="true" tabindex="-1"></a>texto <span class="op">=</span> <span class="st">""" </span></span>
<span id="cb44-74"><a href="#cb44-74" aria-hidden="true" tabindex="-1"></a><span class="st">Cada círculo representa a un país. El nivel de</span></span>
<span id="cb44-75"><a href="#cb44-75" aria-hidden="true" tabindex="-1"></a><span class="st">educación (EDU) en las mujeres se representa </span></span>
<span id="cb44-76"><a href="#cb44-76" aria-hidden="true" tabindex="-1"></a><span class="st">como el tamaño de cada círculo.</span></span>
<span id="cb44-77"><a href="#cb44-77" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb44-78"><a href="#cb44-78" aria-hidden="true" tabindex="-1"></a>plt.text(<span class="fl">5.5</span>,<span class="fl">0.9</span>,texto, fontsize<span class="op">=</span><span class="dv">10</span>,bbox<span class="op">=</span><span class="bu">dict</span>(boxstyle<span class="op">=</span><span class="st">'round'</span>, fc<span class="op">=</span><span class="st">'white'</span>, ec<span class="op">=</span><span class="st">'silver'</span>, alpha<span class="op">=</span><span class="fl">0.5</span>, linewidth<span class="op">=</span><span class="fl">0.75</span>))</span>
<span id="cb44-79"><a href="#cb44-79" aria-hidden="true" tabindex="-1"></a>plt.colorbar(mappable<span class="op">=</span>scatter, label<span class="op">=</span><span class="st">'GDP [USD $]'</span>, ticks<span class="op">=</span>[<span class="dv">1000</span>, <span class="dv">20000</span>, <span class="dv">40000</span>, <span class="dv">60000</span>, <span class="dv">80000</span>, <span class="dv">100000</span>, <span class="dv">120000</span>, <span class="dv">135000</span>])</span>
<span id="cb44-80"><a href="#cb44-80" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">'lower left'</span>, frameon<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb44-81"><a href="#cb44-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-82"><a href="#cb44-82" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">'HDI.pdf'</span>, dpi <span class="op">=</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/opt/conda/lib/python3.11/site-packages/matplotlib/text.py:1461: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  x = float(self.convert_xunits(x))
/opt/conda/lib/python3.11/site-packages/matplotlib/text.py:1463: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  y = float(self.convert_yunits(y))
/opt/conda/lib/python3.11/site-packages/matplotlib/text.py:1461: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  x = float(self.convert_xunits(x))
/opt/conda/lib/python3.11/site-packages/matplotlib/text.py:1463: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  y = float(self.convert_yunits(y))</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="04_Fertilidad_mundial_files/figure-html/cell-31-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./03_precios_graficas_storytelling.html" class="pagination-link" aria-label="Análisis de precios de un producto: graficas para presentación.">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Análisis de precios de un producto: graficas para presentación.</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./05_Minimos_cuadrados.html" class="pagination-link" aria-label="Quizz 2. Mínimos Cuadrados">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Quizz 2. Mínimos Cuadrados</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>